<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="/spring2025/assets/images/favicon.ico" type="image/x-icon">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<title>Intro to React (Carousel + Server-Generated Gallery)</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css
">
<link rel="stylesheet" href="/spring2025/assets/main.css">

<!-- <script defer src="/spring2025/assets/js/fish-pond.js"></script> -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163192686-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-163192686-1');
</script>
    </head>
    <body class="two-column">
        <!-- banner -->
<header>
    <section>
        <h1 class="desktop"><a href="/spring2025/">CSCI 344: Spring 2025</a></h1>
        <h2 class="desktop">Advanced Web Technology</h2>
        <a class="mobile" href="#" title="Toggle Menu">
            <i class="menu-toggle fas fa-bars"></i>
        </a>
        <h1 class="mobile">CSCI 344: Spring 2025</h1>
    </section>
    <img src="https://communication.unca.edu/wp-content/themes/tin/assets/logo.svg" alt="UNCA Logo" />
    <!-- <p class="kudos">
        Fish by <a href="https://github.com/akeatk/fish-pond" target="_blank">@akeatk</a>
    </p> -->
    <!-- <canvas></canvas> -->
</header>

        <nav>
    <ul>
        <li ><a href="/spring2025/syllabus/">Syllabus</a>
        </li>
        <li ><a
                href="/spring2025/">Schedule</a></li>
        <li ><a
                href="/spring2025/assignments/">Assignments</a></li>
        <li ><a href="/spring2025/resources/">Web
                Reference</a></li>
        <li><a href="https://drive.google.com/drive/folders/1LqUWReoyqDSOHq3PyGYZvbgdll0_SHl6?usp=sharing"
                target="_blank">Lecture Recordings</a></li>
    </ul>
</nav>
        <main>
            <aside>
                <ol class="side-menu">
  <li><a href="#1-dont-forget-to-do-the-readings">1. Don’t forget to do the readings</a>
    <ol>
      <li><a href="#monday">Monday</a></li>
      <li><a href="#wednesday">Wednesday</a></li>
    </ol>
  </li>
  <li><a href="#2-setup">2. Setup</a></li>
  <li><a href="#3-convert-your-code-to-a-react-project">3. Convert your code to a React project</a>
    <ol>
      <li><a href="#q-what-just-happened">Q: What just happened?</a></li>
    </ol>
  </li>
  <li><a href="#4-modify-your-html--javascript">4. Modify Your HTML &amp; JavaScript</a>
    <ol>
      <li><a href="#q-what-just-happened-1">Q: What just happened?</a></li>
    </ol>
  </li>
  <li><a href="#5-create-your-first-component">5. Create your first component</a>
    <ol>
      <li><a href="#challenge-1">Challenge 1</a></li>
      <li><a href="#challenge-2">Challenge 2</a></li>
    </ol>
  </li>
  <li><a href="#6-working-with-data">6. Working with Data</a>
    <ol>
      <li><a href="#challenge-1-1">Challenge 1</a></li>
    </ol>
  </li>
  <li><a href="#7-working-with-state">7. Working with State</a>
    <ol>
      <li><a href="#example">Example</a></li>
      <li><a href="#challenge">Challenge</a></li>
    </ol>
  </li>
  <li><a href="#8-working-with-external-data">8. Working with External Data</a>
    <ol>
      <li><a href="#takeaways">Takeaways</a></li>
    </ol>
  </li>
</ol>

            </aside>
            <article>
                

    
        <h1>
            <a href="../assignments/">Assignments</a> > 
            Activity 4: Intro to React (Carousel + Server-Generated Gallery)
        </h1>
    
 
                <!-- {:.info}
> ## Video Walkthroughs
> The folder of videos can be found <a
    href="https://drive.google.com/drive/folders/1Uo3zTQRFfeN5LD7NIVkCPp0Wax7KxCE1?usp=drive_link"
    target="_blank">here</a>. I've also linked them individually:
> 1. <span class="update">from 11/4 lecture</span> <a
    href="https://drive.google.com/file/d/12gBzirwsHVW7aiRll2Tb5gAYgANyN9vl/view?usp=drive_link" target="_blank">React
    Set Up</a>
> 1. <span class="update">from 11/4 lecture</span> <a
    href="https://drive.google.com/file/d/1ENP2Pk_4XgNFiRGjFuIanwvD6ZtiGoPm/view?usp=drive_link" target="_blank">What is
    a component?</a>
> 1. <span class="update">from 11/4 lecture</span> <a
    href="https://drive.google.com/file/d/1WJ0p2DEEWSVOeB5Oni3AzzSXWmSWo7_p/view?usp=drive_link" target="_blank">Making
    a "Profile" component</a>
> 1. <span class="update">New</span> <a
    href="https://drive.google.com/file/d/1X0JsVC7e65Ro7uZFPmNEgz_duu3V6mx6/view?usp=drive_link"
    target="_blank">Customizing your "Profile" component</a>
> 1. <span class="update">New</span> <a href="https://drive.google.com/file/d/1V7z1NX8tgZwKxKNUlrhJZV880hLVXPJA/view?usp=sharing" target="_blank">Generating "Profile" components from data</a>
> 1. <span class="update">New</span> <a href="https://drive.google.com/file/d/1TcIJ66hyegTBgdYw490SNmRpQSpgGvMX/view?usp=drive_link" target="_blank">State variables</a>
> 1. <span class="update">New</span> <a href="https://drive.google.com/file/d/1V6wDR9mYt4lA8W5O9H1jpvDfWSAfVMuT/view?usp=drive_link" target="_blank">Generating "Profile"
    components from server data</a> -->

<h2 id="1-dont-forget-to-do-the-readings">1. Don’t forget to do the readings</h2>

<blockquote class="info">
  <h3 id="monday">Monday</h3>
  <ul class="compact">
    <li><span class="update">Required</span> <a href="https://react.dev/learn/describing-the-ui" target="_blank">Describing the UI</a></li>
    <li><span class="update">Recommended</span> <a href="https://beta.reactjs.org/learn/tutorial-tic-tac-toe" target="_blank">Tic Tac Toe</a>. You are strongly encouraged to do this on your own.</li>
  </ul>

  <h3 id="wednesday">Wednesday</h3>
  <ul class="compact">
    <li><span class="update">Required</span> <a href="https://beta.reactjs.org/learn/thinking-in-react" target="_blank">Thinking in React</a></li>
    <li><span class="update">Required</span> <a href="https://beta.reactjs.org/learn/sharing-state-between-components" target="_blank">Sharing state between components</a></li>
  </ul>
</blockquote>

<h2 id="2-setup">2. Setup</h2>
<ol>
  <li>Open your entire <code class="highlighter-rouge">csci344</code> folder in VS Code.</li>
  <li>Create a new folder inside of your <code class="highlighter-rouge">csci344/lectures</code> folder called <code class="highlighter-rouge">intro-to-react</code>.</li>
  <li>Inside of your <code class="highlighter-rouge">intro-to-react</code> folder, create 3 files:
    <ul>
      <li><code class="highlighter-rouge">index.html</code></li>
      <li><code class="highlighter-rouge">styles.css</code></li>
      <li><code class="highlighter-rouge">.gitignore</code> (this file should start with the “.” prefix, which means that it’s a system, hidden file).</li>
    </ul>
  </li>
  <li>
    <p>Inside of your <code class="highlighter-rouge">index.html</code> file, paste the following code:</p>

    <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="cp">&lt;!DOCTYPE html&gt;</span>
 <span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>

 <span class="nt">&lt;head&gt;</span>
     <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
     <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1.0"</span><span class="nt">&gt;</span>
     <span class="nt">&lt;title&gt;</span>React Demo<span class="nt">&lt;/title&gt;</span>
     <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"styles.css"</span><span class="nt">&gt;</span>
 <span class="nt">&lt;/head&gt;</span>

 <span class="nt">&lt;body&gt;</span>
     <span class="nt">&lt;h1&gt;</span>Hello world<span class="nt">&lt;/h1&gt;</span>
     <span class="nt">&lt;p&gt;</span>Here is some text!<span class="nt">&lt;/p&gt;</span>
 <span class="nt">&lt;/body&gt;</span>

 <span class="nt">&lt;/html&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Inside of your <code class="highlighter-rouge">styles.css</code> file, paste the following code:</p>

    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nt">body</span> <span class="p">{</span>
     <span class="nl">font-family</span><span class="p">:</span> <span class="n">Arial</span><span class="p">,</span> <span class="n">Helvetica</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
     <span class="nl">background-color</span><span class="p">:</span> <span class="no">navy</span><span class="p">;</span>
     <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>Inside your <code class="highlighter-rouge">.gitignore</code> file, type the word <code class="highlighter-rouge">node_modules</code>. This file is telling git not to put the <code class="highlighter-rouge">node_modules</code> folder under version control. Since these files were built by somebody else, you don’t typically commit them to your version control repository.</li>
</ol>

<p>When you’re done, preview your HTML page in the browser using VS Code’s Live Server. If you did it correctly, you should see your HTML, and the background should be navy blue.</p>

<h2 id="3-convert-your-code-to-a-react-project">3. Convert your code to a React project</h2>

<p>Now that you’ve created your starter files, you’re going to convert our app into a React app. You will do this from the command line (Windows users use GitBash, Mac users use Terminal):</p>

<ol>
  <li>From the command line, navigate into your <strong>intro-to-react</strong> folder. You can also open the VS Code Integrated terminal.</li>
  <li>Verify that you’re in the correct folder by typing <strong>pwd</strong></li>
  <li>
    <p>Issue the following commands</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> npm init <span class="nt">-y</span>
 npm <span class="nb">install </span>vite
 npm <span class="nb">install </span>react react-dom
</code></pre></div>    </div>
  </li>
  <li>
    <p>Open the newly-created package.json file (from within VS Code) add the following entry to your “scripts” section:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="s2">"dev"</span>: <span class="s2">"vite dev"</span>,
</code></pre></div>    </div>
  </li>
  <li>
    <p>After editing your <code class="highlighter-rouge">package.json</code> file, run <strong><code class="highlighter-rouge">npm run dev</code></strong> on the command line. When you do, you should see the following output:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">**</span>VITE<span class="k">**</span> v5.2.6  ready <span class="k">in</span> <span class="k">**</span>307<span class="k">**</span> ms
 ➜  <span class="k">**</span>Local<span class="k">**</span>:   http://localhost:<span class="k">**</span>5173<span class="k">**</span>/
 ➜  <span class="k">**</span>Network<span class="k">**</span>: use <span class="k">**</span><span class="nt">--host</span><span class="k">**</span> to expose
 ➜  press <span class="k">**</span>h + enter<span class="k">**</span> to show <span class="nb">help</span>
</code></pre></div>    </div>
  </li>
  <li>Finally, navigate to <a href="http://localhost:5173/">http://localhost:<strong>5173</strong>/</a> in your web browser. You should see a web page. If you open the browser console, you should see “hello world!”</li>
</ol>

<h3 id="q-what-just-happened">Q: What just happened?</h3>

<p>A few things just happened:</p>

<ol>
  <li><strong>npm init</strong> created a package.json file, which has some instructions for running our react app, as well as the dependencies that need to be installed.</li>
  <li>The <strong>npm install</strong> commands downloaded some JavaScript libraries from the Internet, including vite and react.</li>
  <li>Adding the <strong>“dev”: “vite dev”</strong> line to package.json created a node instruction that means:
    <ul>
      <li>“Whenever we type “<strong>npm run dev”</strong> in the command line, run a local server with “hot reload” and “bundling” enabled.</li>
    </ul>
  </li>
</ol>

<p>We’ll talk more about what each of these terms mean in future lessons.</p>

<h2 id="4-modify-your-html--javascript">4. Modify Your HTML &amp; JavaScript</h2>

<p>Now, we’re going to make a few changes to our HTML and JavaScript to make it a React App.</p>

<ol>
  <li>Create a new folder called <code class="highlighter-rouge">src</code> inside of your <code class="highlighter-rouge">intro-to-react</code> folder.</li>
  <li>
    <p>Inside of <code class="highlighter-rouge">src</code>, create a new file called <code class="highlighter-rouge">App.jsx</code></p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>

 <span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>

     <span class="k">return</span> <span class="p">(</span>
         <span class="p">&lt;&gt;</span>
             <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
                 <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>My First App<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
             <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
             <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
                 <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Hello React!<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
             <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
         <span class="p">&lt;/&gt;</span>
     <span class="p">);</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Also inside of <code class="highlighter-rouge">src</code>, Create another new file called <code class="highlighter-rouge">main.jsx</code> and paste the following code into your page:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
 <span class="k">import</span> <span class="p">{</span> <span class="nx">createRoot</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-dom/client</span><span class="dl">"</span><span class="p">;</span>
 <span class="k">import</span> <span class="nx">App</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./App.jsx</span><span class="dl">"</span><span class="p">;</span>

 <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="kd">const</span> <span class="nx">rootEl</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">);</span>
     <span class="kd">const</span> <span class="nx">root</span> <span class="o">=</span> <span class="nx">createRoot</span><span class="p">(</span><span class="nx">rootEl</span><span class="p">);</span>
     <span class="nx">root</span><span class="p">.</span><span class="nx">render</span><span class="p">(&lt;</span><span class="nc">App</span> <span class="p">/&gt;);</span>
 <span class="p">}</span>

 <span class="nx">main</span><span class="p">();</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Modify <code class="highlighter-rouge">index.html</code> as follows:</p>

    <ol>
      <li>
        <p>Inside of the body tag, add an empty div tag that has an id of “app”:</p>

        <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ...
 <span class="nt">&lt;body&gt;</span>
     <span class="nt">&lt;h1&gt;</span>Hello world<span class="nt">&lt;/h1&gt;</span>
     <span class="nt">&lt;p&gt;</span>Here is some text!<span class="nt">&lt;/p&gt;</span>
     <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"app"</span><span class="nt">&gt;</span>React App gets injected here...<span class="nt">&lt;/div&gt;</span>
 <span class="nt">&lt;/body&gt;</span>
 ...
</code></pre></div>        </div>
      </li>
      <li>
        <p>Add the following JavaScript reference within the <code class="highlighter-rouge">&lt;head&gt;&lt;/head&gt;</code> of your HTML file to point to the <strong>main.jsx</strong> file you just made:</p>

        <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nt">&lt;head&gt;</span>
     ...
     <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"module"</span> <span class="na">src=</span><span class="s">"./src/main.jsx"</span> <span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">defer</span><span class="nt">&gt;&lt;/script&gt;</span>
 <span class="nt">&lt;/head&gt;</span>
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
</ol>

<p>Now, go and check <a href="http://localhost:5173/" target="_blank">http://localhost:5173/</a> in your web browser, and you should see a new element in your web browser.</p>

<h3 id="q-what-just-happened-1">Q: What just happened?</h3>
<p>You have now successfully configured your computer to run React applications. A few notes:</p>

<ol>
  <li>The <code class="highlighter-rouge">main.jsx</code> script essentially injects our first component, <code class="highlighter-rouge">App</code>, into the DOM.</li>
  <li>Notice that App.jsx uses JSX instead of building strings using template literals (the backtick). Just a minor syntax adjustment.</li>
  <li>Currently, the App component doesn’t do much, but in the subsequent steps, we’re going to make it more interesting.</li>
</ol>

<h2 id="5-create-your-first-component">5. Create your first component</h2>
<p>Say we want to make a card for each student in this class with their name, major, photo, and some links to their socials. We can do this by making a component, which standardizizes the way that the information is processed and presented. Let’s try making one inside of your <code class="highlighter-rouge">src</code> folder:</p>

<ol>
  <li>Create a new component called <strong>Profile.jsx</strong> and a corresponding stylesheet called <strong>Profile.css</strong></li>
  <li>
    <p>Inside of Profile.jsx, import the stylesheet to link the two files together as follows:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">import</span> <span class="dl">"</span><span class="s2">./Profile.css</span><span class="dl">"</span><span class="p">;</span>
 <span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>

 <span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Profile</span><span class="p">()</span> <span class="p">{</span>
     <span class="k">return</span> <span class="p">(</span>
         <span class="p">&lt;</span><span class="nt">section</span> <span class="na">className</span><span class="p">=</span><span class="s">"profile"</span><span class="p">&gt;</span>
             Profile Goes here!
         <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
     <span class="p">);</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Now, inside of App.jsx, import your new Profile component at the top:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">import</span> <span class="nx">Profile</span> <span class="k">from</span>  <span class="dl">"</span><span class="s2">./Profile.jsx</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>You can now make new <Profile></Profile> tags. Let’s add a few to your <code class="highlighter-rouge">App.jsx</code> file underneath your <code class="highlighter-rouge">&lt;p&gt;Hello React!&lt;/p&gt;</code> message:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Hello React!<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
 <span class="p">&lt;</span><span class="nc">Profile</span> <span class="p">/&gt;</span>
 <span class="p">&lt;</span><span class="nc">Profile</span> <span class="p">/&gt;</span>
 <span class="p">&lt;</span><span class="nc">Profile</span> <span class="p">/&gt;</span>
 <span class="p">&lt;</span><span class="nc">Profile</span> <span class="p">/&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>Preview your website in your web browser: <a href="http://localhost:5173/">http://localhost:<strong>5173</strong>/</a>. If you did it correctly, you should see the sentence “Profile Goes here!” 4 times.</li>
</ol>

<h3 id="challenge-1">Challenge 1</h3>
<p>Can you get your <code class="highlighter-rouge">Profile.jsx</code> component to display the “name” attribute? In other words, if I make different profile tags that look like this, 
the component should output each of their names to the screen.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&lt;</span><span class="nc">Profile</span> <span class="na">name</span><span class="p">=</span><span class="s">"Anita"</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nc">Profile</span> <span class="na">name</span><span class="p">=</span><span class="s">"Ben"</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nc">Profile</span> <span class="na">name</span><span class="p">=</span><span class="s">"Adwaina"</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nc">Profile</span> <span class="na">name</span><span class="p">=</span><span class="s">"Laciesha"</span> <span class="p">/&gt;</span>
</code></pre></div></div>

<p><strong>Hint:</strong> you need to use <code class="highlighter-rouge">props</code> in your <code class="highlighter-rouge">Profile.jsx</code> file.</p>

<h4 id="answer-dont-look-until-youve-tried-it">Answer (don’t look until you’ve tried it!)</h4>

<ol>
  <li>Here’s the answer:
    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">import</span> <span class="dl">"</span><span class="s2">./Profile.css</span><span class="dl">"</span><span class="p">;</span>
 <span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>

 <span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Profile</span><span class="p">({</span> <span class="nx">name</span> <span class="p">})</span> <span class="p">{</span>
        
     <span class="k">return</span> <span class="p">(</span>
         <span class="p">&lt;</span><span class="nt">section</span> <span class="na">className</span><span class="p">=</span><span class="s">"profile"</span><span class="p">&gt;</span>
             <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">name</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
         <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
     <span class="p">);</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Notice that a <strong>property</strong> is passed into Profile within a set of curly braces:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Profile</span><span class="p">({</span> <span class="nx">name</span> <span class="p">})</span> <span class="p">{</span>
     <span class="p">...</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>The <strong>property</strong> is then used inside the JSX template:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">name</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="challenge-2">Challenge 2</h3>
<p>See if you can figure out how to get different people’s profile pics to show up: for instance, if I make different profile tags that look like this…</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&lt;</span><span class="nc">Profile</span> <span class="na">name</span><span class="p">=</span><span class="s">"Anita"</span> <span class="na">picture</span><span class="p">=</span><span class="s">"https://picsum.photos/id/216/100/100"</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nc">Profile</span> <span class="na">name</span><span class="p">=</span><span class="s">"Ben"</span> <span class="na">picture</span><span class="p">=</span><span class="s">"https://picsum.photos/id/217/100/100"</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nc">Profile</span> <span class="na">name</span><span class="p">=</span><span class="s">"Adwaina"</span> <span class="na">picture</span><span class="p">=</span><span class="s">"https://picsum.photos/id/218/100/100"</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nc">Profile</span> <span class="na">name</span><span class="p">=</span><span class="s">"Laciesha"</span> <span class="na">picture</span><span class="p">=</span><span class="s">"https://picsum.photos/id/219/100/100"</span> <span class="p">/&gt;</span>
</code></pre></div></div>

<p>…I should be able to see the student’s name and image.</p>

<h4 id="answer-dont-look-until-youve-tried-it-1">Answer (don’t look until you’ve tried it!)</h4>
<ol>
  <li>
    <p>To get your component to understand data from the parent tag, you’ll have to “pass in” the property as an argument to Profile:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">import</span> <span class="dl">"</span><span class="s2">./Profile.css</span><span class="dl">"</span><span class="p">;</span>
 <span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>

 <span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Profile</span><span class="p">({</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">picture</span> <span class="p">})</span> <span class="p">{</span>
        
     <span class="k">return</span> <span class="p">(</span>
         <span class="p">&lt;</span><span class="nt">section</span> <span class="na">className</span><span class="p">=</span><span class="s">"profile"</span><span class="p">&gt;</span>
             <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">name</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
             <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="p">=</span><span class="si">{</span><span class="nx">picture</span><span class="si">}</span> <span class="p">/&gt;</span>
         <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
     <span class="p">);</span>
 <span class="p">}</span>

</code></pre></div>    </div>
  </li>
  <li>
    <p>Notice that a second <strong>property</strong> is passed into Profile within a set of curly braces:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Profile</span><span class="p">({</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">picture</span> <span class="p">})</span> <span class="p">{</span>
     <span class="p">...</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>Also notice that the new <strong>property</strong> is then used inside the JSX template:
    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="p">=</span><span class="si">{</span><span class="nx">picture</span><span class="si">}</span> <span class="p">/&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>Feel free to style your card by editing your <code class="highlighter-rouge">Profile.css</code> file.</li>
</ol>

<h2 id="6-working-with-data">6. Working with Data</h2>
<p>Components are often rendered “on-the-fly,” in response to a user event or server request.</p>

<h3 id="challenge-1-1">Challenge 1</h3>
<p>See if you can modify your <code class="highlighter-rouge">App.jsx</code> file to iterate through the following array of classmates and generate a Profile component for each one.</p>

<ol>
  <li>Add this array within your App function:
    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">const</span> <span class="nx">people</span> <span class="o">=</span> <span class="p">[</span>
     <span class="p">{</span>
         <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Anita</span><span class="dl">"</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">image_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://picsum.photos/id/216/100/100</span><span class="dl">"</span>
     <span class="p">},</span>
     <span class="p">{</span>
         <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Ben</span><span class="dl">"</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">image_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://picsum.photos/id/217/100/100</span><span class="dl">"</span>
     <span class="p">},</span>
     <span class="p">{</span>
         <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Adwaina</span><span class="dl">"</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">image_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://picsum.photos/id/218/100/100</span><span class="dl">"</span>
     <span class="p">},</span>
     <span class="p">{</span>
         <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Laciesha</span><span class="dl">"</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">image_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://picsum.photos/id/219/100/100</span><span class="dl">"</span>
     <span class="p">}</span>
 <span class="p">];</span>
</code></pre></div>    </div>
  </li>
  <li>Modify the JSX that’s returned
    <ul>
      <li>Hint: use the array’s <code class="highlighter-rouge">map</code> function.</li>
    </ul>
  </li>
</ol>

<h4 id="answer-dont-look-until-youve-tried-it-2">Answer (don’t look until you’ve tried it!)</h4>
<ol>
  <li>One way to generate components from an array is by using an embedded expression in the JSX return value:
    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
 <span class="k">import</span> <span class="nx">Profile</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Profile.jsx</span><span class="dl">"</span><span class="p">;</span>

 <span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
     <span class="kd">const</span> <span class="nx">people</span> <span class="o">=</span> <span class="p">[...];</span>

     <span class="k">return</span> <span class="p">(</span>
         <span class="p">&lt;&gt;</span>
             <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
                 <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>My First App<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
             <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
             <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
                 <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Hello React!<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                 <span class="si">{</span><span class="cm">/* expressions are embedded in curly braces in JSX */</span><span class="si">}</span>
                 <span class="si">{</span> <span class="nx">people</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">person</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
                     <span class="k">return</span> <span class="p">(</span>
                         <span class="p">&lt;</span><span class="nc">Profile</span>
                             <span class="na">name</span><span class="p">=</span><span class="si">{</span><span class="nx">person</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span>
                             <span class="na">picture</span><span class="p">=</span><span class="si">{</span><span class="nx">person</span><span class="p">.</span><span class="nx">image_url</span><span class="si">}</span>
                         <span class="p">/&gt;</span>
                     <span class="p">);</span>
                 <span class="p">})</span> <span class="si">}</span>
             <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
         <span class="p">&lt;/&gt;</span>
     <span class="p">);</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>Note that JSX expressions are embedded in the JSX using curly braces.</li>
  <li>The <code class="highlighter-rouge">people.map(...)</code> expression is the same JavaScript we’ve been using this whole time.</li>
  <li>The job of <code class="highlighter-rouge">people.map(...)</code>’s inner function (shown below) is to return a <code class="highlighter-rouge">&lt;Profile /&gt;</code> component for each element in the array:
    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     <span class="c1">// inner anonymous function</span>
     <span class="p">(</span><span class="nx">person</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
         <span class="k">return</span> <span class="p">(</span>
             <span class="p">&lt;</span><span class="nc">Profile</span>
                 <span class="na">name</span><span class="p">=</span><span class="si">{</span><span class="nx">person</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span>
                 <span class="na">picture</span><span class="p">=</span><span class="si">{</span><span class="nx">person</span><span class="p">.</span><span class="nx">image_url</span><span class="si">}</span>
             <span class="p">/&gt;</span>
         <span class="p">);</span>
     <span class="p">}</span>

</code></pre></div>    </div>
  </li>
  <li>After the <code class="highlighter-rouge">people.map(...)</code> expression has been processed, the return value is an array of React components that are inserted into the surrounding JSX object.</li>
  <li>
    <p>An alternate way to do this is to separate the “map” part of the logic into its own function:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
 <span class="k">import</span> <span class="nx">Profile</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Profile.jsx</span><span class="dl">"</span><span class="p">;</span>

 <span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
     <span class="kd">const</span> <span class="nx">people</span> <span class="o">=</span> <span class="p">[...];</span>

     <span class="kd">function</span> <span class="nx">getProfileComponents</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">return</span> <span class="nx">people</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">item</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
             <span class="k">return</span> <span class="p">&lt;</span><span class="nc">Profile</span> <span class="na">name</span><span class="p">=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span> <span class="na">picture</span><span class="p">=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">image_url</span><span class="si">}</span> <span class="p">/&gt;;</span>
         <span class="p">});</span>
     <span class="p">}</span>

     <span class="k">return</span> <span class="p">(</span>
         <span class="p">&lt;&gt;</span>
             <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
                 <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>My First App<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
             <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
             <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
                 <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Hello React!<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                 <span class="si">{</span><span class="cm">/* expressions are embedded in curly braces in JSX */</span><span class="si">}</span>
                 <span class="si">{</span><span class="nx">getProfileComponents</span><span class="p">()</span><span class="si">}</span>
             <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
         <span class="p">&lt;/&gt;</span>
     <span class="p">);</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="summary">Summary</h4>
<p>We have now seen an approach to generating components from data. But how do we get data from a server?! Great question! We will. But before we do that, we need to cover one more big idea: <strong>state</strong></p>

<h2 id="7-working-with-state">7. Working with State</h2>
<p><strong>“State Variables”</strong> enable a component to dynamically redraw after a state change – usually caused by a user interaction or an external process like retrieving data from a server). In React, we don’t target DOM elements. Instead, we just redraw our components. The process for getting state variables to work is as follows:</p>

<ol>
  <li>Create a state variable and a “setter” using the built-in <code class="highlighter-rouge">useState()</code> function.</li>
  <li>Manipulate the state variable via a user interaction (e.g., onClick, onMouseOver, etc.). The user interaction will invoke the state variable’s “setter” and set the variable to a new value.</li>
  <li>Once the “setter” is finished setting the new value, the component redraws automatically.</li>
</ol>

<h3 id="example">Example</h3>
<p>Let’s talk through state concretely by looking at an example:</p>

<ol>
  <li>In your <code class="highlighter-rouge">src</code> folder, create a new file called <code class="highlighter-rouge">ButtonCount.jsx</code></li>
  <li>
    <p>Paste the following code into the file:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>

 <span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">ButtonCount</span><span class="p">()</span> <span class="p">{</span>
     <span class="c1">// biggest idea in React is: state variables!</span>
     <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

     <span class="kd">function</span> <span class="nx">addOne</span><span class="p">()</span> <span class="p">{</span>
         <span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
     <span class="p">}</span>

     <span class="kd">function</span> <span class="nx">resetCounter</span><span class="p">()</span> <span class="p">{</span>
         <span class="nx">setCount</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
     <span class="p">}</span>

     <span class="k">return</span> <span class="p">(</span>
         <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
             <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">addOne</span><span class="si">}</span><span class="p">&gt;</span>You have clicked <span class="si">{</span><span class="nx">count</span><span class="si">}</span> times<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
             <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">resetCounter</span><span class="si">}</span><span class="p">&gt;</span>reset<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
         <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
     <span class="p">);</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Now, in <code class="highlighter-rouge">App.jsx</code>, import the component you just made…</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">import</span> <span class="nx">ButtonCount</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./ButtonCount.jsx</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>…and then add some <code class="highlighter-rouge">&lt;ButtonCount /&gt;</code> tags to the bottom of your JSX object</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="p">&lt;</span><span class="nc">ButtonCount</span> <span class="p">/&gt;</span>
 <span class="p">&lt;</span><span class="nc">ButtonCount</span> <span class="p">/&gt;</span>
 <span class="p">&lt;</span><span class="nc">ButtonCount</span> <span class="p">/&gt;</span>
 <span class="p">&lt;</span><span class="nc">ButtonCount</span> <span class="p">/&gt;</span>
 <span class="p">&lt;</span><span class="nc">ButtonCount</span> <span class="p">/&gt;</span>
 <span class="p">&lt;</span><span class="nc">ButtonCount</span> <span class="p">/&gt;</span>
</code></pre></div>    </div>
  </li>
  <li>When you preview your code in the browser, you will see a bunch of buttons. Try clicking the buttons. Notice that each component is independent of the others.</li>
</ol>

<p>Some things to notice:</p>

<ol>
  <li>In the example above that the <code class="highlighter-rouge">addOne()</code> and <code class="highlighter-rouge">reset()</code> functions – which are invoked by button clicks – both invoke the <code class="highlighter-rouge">setCounter()</code> function.</li>
  <li>The <code class="highlighter-rouge">setCounter()</code> function, which was generated from React’s <code class="highlighter-rouge">useState</code> function, is a special function that will (a) set the counter variable to the new value and (b) redraw the screen.</li>
</ol>

<h3 id="challenge">Challenge</h3>
<p>Can you figure out how to modify the <code class="highlighter-rouge">ButtonCount</code> component so that it initializes to any value (which is specified in the component tag)?</p>

<ol>
  <li><strong><em>Takeaway</em></strong>: Every time you want to trigger a screen redraw, use a state variable as follows:
    <ol>
      <li>Create a state variable and setter using React’s built-in <code class="highlighter-rouge">useState</code> function</li>
      <li>Invoke the setter function to set the state variable, which will automatically redraw the component.</li>
    </ol>
  </li>
</ol>

<h2 id="8-working-with-external-data">8. Working with External Data</h2>
<p>We are finally ready to work with external data. Managing external data can be tricky because you’re reaching outside of the immediate app to synchronize with another server. In programming, actions like this are called “side effects,” because the <code class="highlighter-rouge">fetch</code> function is accessing something outside of it’s immediate scope.</p>

<p>To handle side effects gracefully, React has a function called <code class="highlighter-rouge">useEffect</code> that helps the app synchronize with other process. The approach:</p>

<ol>
  <li>Create an empty state variable to hold the data.</li>
  <li>Wrap any asynchronous function calls (like fetch statements) in an “effect”.</li>
  <li>When the the asynchronous function resolves, set the state variable (which will trigger a redraw).</li>
</ol>

<p>Let’s see this process in action by doing the following in your <code class="highlighter-rouge">App.jsx</code> component:</p>

<ol>
  <li>Delete the <code class="highlighter-rouge">photos</code> array (hardcoded data will be replaced by server data).</li>
  <li>
    <p>Create a new file called <code class="highlighter-rouge">data-functions.js</code> inside of <code class="highlighter-rouge">src</code>. This file will store any asynchronous server functions. Add the following code to this new file:</p>

    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1">// function to log in and get access token:</span>
 <span class="k">export</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">getAccessToken</span><span class="p">(</span><span class="nx">username</span><span class="p">,</span> <span class="nx">password</span><span class="p">)</span> <span class="p">{</span>
     <span class="kd">const</span> <span class="nx">endpoint</span> <span class="o">=</span> <span class="s2">`https://photo-app-secured.herokuapp.com/api/token/`</span><span class="p">;</span>
     <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">endpoint</span><span class="p">,</span> <span class="p">{</span>
         <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
         <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
             <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
         <span class="p">},</span>
         <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">username</span><span class="p">:</span> <span class="nx">username</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">password</span> <span class="p">}),</span>
     <span class="p">});</span>
     <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
     <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">access_token</span><span class="p">;</span>
 <span class="p">}</span>

 <span class="c1">// function to retrieve all of your posts:</span>
 <span class="k">export</span> <span class="k">async</span> <span class="kd">function</span> <span class="nx">getPosts</span><span class="p">()</span> <span class="p">{</span>
     <span class="c1">// get your access token: change this to your username:</span>
     <span class="kd">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getAccessToken</span><span class="p">(</span><span class="dl">"</span><span class="s2">webdev</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">password</span><span class="dl">"</span><span class="p">);</span>
     <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span>
         <span class="s2">`https://photo-app-secured.herokuapp.com/api/posts/`</span><span class="p">,</span>
         <span class="p">{</span>
             <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span>
             <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
                 <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
                 <span class="na">Authorization</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Bearer </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
             <span class="p">},</span>
         <span class="p">}</span>
     <span class="p">);</span>
     <span class="k">return</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Modify the import statement at the top by also importing the <code class="highlighter-rouge">useEffect</code> function and the <code class="highlighter-rouge">getPost</code> function you just made:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
 <span class="k">import</span> <span class="p">{</span> <span class="nx">getPosts</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./data-functions.js</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Within your <code class="highlighter-rouge">App</code> function towards the very top, create a state variable to hold your server data, and initialize it to an empty array:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
     <span class="kd">const</span> <span class="p">[</span><span class="nx">posts</span><span class="p">,</span> <span class="nx">setPosts</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([]);</span>
     <span class="p">...</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Below the state variable / setter you just made, add add a <code class="highlighter-rouge">useEffects()</code> function invocation that will invoke your<code class="highlighter-rouge">getPosts()</code> function after the first screen render:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="p">(</span><span class="k">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
         <span class="kd">const</span> <span class="nx">posts</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getPosts</span><span class="p">();</span>
         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">posts</span><span class="p">);</span>
         <span class="nx">setPosts</span><span class="p">(</span><span class="nx">posts</span><span class="p">);</span>
     <span class="p">})();</span>
 <span class="p">},</span> <span class="p">[]);</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>And finally, adjust your <code class="highlighter-rouge">getProfileComponents()</code> function to accommodate the server data stored in the <code class="highlighter-rouge">posts</code> function:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">function</span> <span class="nx">getProfileComponents</span><span class="p">()</span> <span class="p">{</span>
     <span class="k">return</span> <span class="nx">posts</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">item</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
         <span class="k">return</span> <span class="p">&lt;</span><span class="nc">Profile</span> <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span> <span class="na">name</span><span class="p">=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">caption</span><span class="si">}</span> <span class="na">picture</span><span class="p">=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">image_url</span><span class="si">}</span> <span class="p">/&gt;;</span>
     <span class="p">});</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>When you’re done, the entire <code class="highlighter-rouge">App.jsx</code> should look like this:</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
 <span class="k">import</span> <span class="nx">Profile</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Profile.jsx</span><span class="dl">"</span><span class="p">;</span>
 <span class="k">import</span> <span class="nx">ButtonCount</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./ButtonCount.jsx</span><span class="dl">"</span><span class="p">;</span>
 <span class="k">import</span> <span class="p">{</span> <span class="nx">getPosts</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./data-functions.js</span><span class="dl">"</span><span class="p">;</span>

 <span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
     <span class="kd">const</span> <span class="p">[</span><span class="nx">posts</span><span class="p">,</span> <span class="nx">setPosts</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([]);</span>

     <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
         <span class="p">(</span><span class="k">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
             <span class="kd">const</span> <span class="nx">posts</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getPosts</span><span class="p">();</span>
             <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">posts</span><span class="p">);</span>
             <span class="nx">setPosts</span><span class="p">(</span><span class="nx">posts</span><span class="p">);</span>
         <span class="p">})();</span>
     <span class="p">},</span> <span class="p">[]);</span>

     <span class="kd">function</span> <span class="nx">getProfileComponents</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">return</span> <span class="nx">posts</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">item</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
             <span class="k">return</span> <span class="p">(</span>
                 <span class="p">&lt;</span><span class="nc">Profile</span>
                     <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span>
                     <span class="na">name</span><span class="p">=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">caption</span><span class="si">}</span>
                     <span class="na">picture</span><span class="p">=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">image_url</span><span class="si">}</span>
                 <span class="p">/&gt;</span>
             <span class="p">);</span>
         <span class="p">});</span>
     <span class="p">}</span>

     <span class="k">return</span> <span class="p">(</span>
         <span class="p">&lt;&gt;</span>
             <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
                 <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>My First App<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
             <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
             <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
                 <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Hello React!<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                 <span class="si">{</span><span class="cm">/* expressions are embedded in curly braces in JSX */</span><span class="si">}</span>
                 <span class="si">{</span><span class="nx">getProfileComponents</span><span class="p">()</span><span class="si">}</span>

                 <span class="p">&lt;</span><span class="nc">ButtonCount</span> <span class="p">/&gt;</span>
                 <span class="p">&lt;</span><span class="nc">ButtonCount</span> <span class="p">/&gt;</span>
                 <span class="p">&lt;</span><span class="nc">ButtonCount</span> <span class="p">/&gt;</span>
                 <span class="p">&lt;</span><span class="nc">ButtonCount</span> <span class="p">/&gt;</span>
                 <span class="p">&lt;</span><span class="nc">ButtonCount</span> <span class="p">/&gt;</span>
                 <span class="p">&lt;</span><span class="nc">ButtonCount</span> <span class="p">/&gt;</span>
             <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
         <span class="p">&lt;/&gt;</span>
     <span class="p">);</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>If you did it correctly, you should see data from Photo App displayed on the screen. Good job!</li>
</ol>

<h3 id="takeaways">Takeaways</h3>
<ol>
  <li>
    <p>Any external server queries that need to happen when the page loads need to be wrapped in a <code class="highlighter-rouge">useEffect</code> function.</p>
  </li>
  <li>
    <p>You can learn more about them here:</p>
    <ul>
      <li><a href="https://beta.reactjs.org/learn/synchronizing-with-effects" target="_blank">Synchronizing with effects</a></li>
      <li><a href="https://beta.reactjs.org/learn/you-might-not-need-an-effect" target="_blank">You might not need an effect</a></li>
    </ul>
  </li>
</ol>

            </article>  
        </main>
        <footer>
            <p>    
                Department of Computer Science, UNC Asheville
            </p>
        </footer>
        
            <script type="text/javascript" src="/spring2025/assets/js/main.js"></script>
    
    <!-- <script>
        //little bit of a hack:
        const scrollLeft = () => {
            //console.log('scrollLeft');
            document.documentElement.scrollLeft = 0;
        };
        setTimeout(scrollLeft, 100);
    </script> -->
        <script type="text/javascript" src="/spring2025/assets/js/expandable.js"></script>
    </body>
</html>